<div class="grid-x grid-margin-x">
  <nav class="cell shrink" aria-label="You are here:" role="navigation">
    <ul class="breadcrumbs">
      <li><%= link_to "Home", root_path %></li>
      <% if @sign.topic %>
        <li><%= link_to "Topics", "/topics" %></li>
        <li><%= link_to @sign.topic.name, "/topics/#{@sign.topic.to_param}" %></li>
      <% end %>
      <li><span class="show-for-sr">Current: </span> <%= @sign.english %></li>
    </ul>
  </nav>
</div>

<div class="grid-x grid-margin-x">
  <div class="cell sign-card small-12 large-10 sign-card--borderless">
    <div class="sign-card__media">
      <video controls  controlsList="nodownload" class="sign-card__media--video">
        <source src="<%= sign_video_path(sign_id: @sign, preset: "1080p") %>" type="video/mp4" />
        <source src="<%= sign_video_path(sign_id: @sign, preset: "720p") %>" type="video/mp4" />
        <source src="<%= sign_video_path(sign_id: @sign, preset: "360p") %>"  type="video/mp4" />

      </video>

      <!-- Fallback for when the video is not encoded -->
      <%= image_tag @sign.video.preview(ThumbnailPreset.default.scale_1080.to_h), class: "sign-card__media__fallback" %>
    </div>
    <div class="sign-card__section">
      <h2 class="primary"><%= @sign.english %></h2>
      <p class="sign-card__subtitle">
        <%= @sign.contributor.username %>
        &nbsp;•&nbsp;
        <%= localize(@sign.created_at, format: "%-d %B %Y") %>
        <% if @sign.topic %>
          &nbsp;•&nbsp;
          <%= @sign.topic.name %>
        <% end %>
      </p>
      <%= content_tag(:p, simple_format(@sign.description)) %>
    </div>
    <hr class="sign-card__divider">
    <div class="grid-x sign-card__bottom grid-padding-x">
      <div class="cell shrink">
        <%= link_to "#", class: "button clear success" do %>
          <%= inline_svg "media/images/agree.svg", aria_hidden: true, class: "icon icon--success" %>
          <%= @sign.agree_count %> Agree
        <% end %>
        <%= link_to "#", class: "button clear medium" do %>
          <%= inline_svg "media/images/disagree.svg", aria_hidden: true, class: "icon icon--medium" %>
          <%= @sign.disagree_count %>
          Disagree
        <% end %>
      </div>
      <div class="cell auto"></div>
      <div class="cell shrink">
        <%= link_to "#", class: "button clear medium" do %>
          <%= inline_svg "media/images/folder-add.svg", aria_hidden: true, class: "icon icon--medium" %>
          Add to Folder
        <% end %>
        <%= link_to "#", class: "button clear medium" do %>
          <%= inline_svg "media/images/share.svg", aria_hidden: true, class: "icon icon--medium" %>
          Share
        <% end %>
      </div>
    </div>
  </div>
</div>
